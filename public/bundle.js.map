{"version":3,"sources":["webpack:///webpack/bootstrap 3884256a736cdec9bb6d","webpack:///./src/adjacency-list/adjacency-list.js","webpack:///./src/find-bridges/find-bridges.js","webpack:///./src/hamma-algorithm/hamma-algorithm.js","webpack:///./src/spring-embedder/spring-embedder.js","webpack:///./src/main.scss","webpack:///./src/main.js","webpack:///./src/plane-worker/plane-worker.js","webpack:///./src/plane/plane.js","webpack:///./src/svg-graph-drawer/svg-graph-drawer.js"],"names":["AdjacencyList","nodes","addNode","nodeName","undefined","type","neighbors","addEdge","node1Name","node2Name","initializeFromText","nodesText","i","length","currNode","split","removeNode","node","removeEdge","removeEdges","edges","begin","end","getConnectedComponents","components","checkedNodes","key","component","addNeighbors","call","push","print","textGroup","lastChild","removeChild","count","tspan","createTSpan","appendChild","key1","currText","key2","text","x","y","document","createElementNS","setAttribute","textContent","printNodesAndBridgesText","bridges","calculateDepthSearchAndFindBridges","number","num","top","bypassEdges","searchNode","parentNode","Math","min","filter","edge","findBridges","HammaAlgorithmWorker","svgField","makePlanarity","graph","planarizeGraph","loop","findLoop","path","planeWorker","initializeFromLoop","svgGraphDrawer","draw","segments","findSegments","chain","calculateGammaFromSegments","planes","sort","segment1","segment2","gammaCount","findChain","contactNodes","addChain","planesIn","maxLoopLength","pathResult","searchLoopInNeighbors","slice","transformPathResultToLoopAndEdges","loopLength","getLoopLength","newPath","addedNodes","visitedNodes","includes","checkContactNode","segment","searchSegment","array","neighbor","j","isSegmentIn","isNodeInLoop","name","start","deepSearch","prev","current","res","l","k1","k2","delta","clear","nodesGroup","edgesGroup","innerHTML","getNodesAndEdges","randomizeNodeCoordinates","height","width","floor","random","drawGraph","circle","line","distance","node1","node2","sqrt","calculatePowerXForEachNode","p","f","q","d","g","FX","calculatePowerYForEachNode","FY","addExtention","firstStep","timerId","clearInterval","makeOneStabilization","startStabilization","setInterval","drawField","getElementById","value","toDraw","addEventListener","replace","calculateOffset","startStab","planarityFirstStep","initGraph","hammaAlgorithmWorker","canvasSize","nodeRadius","canvasCorners","topLeft","topRight","bottomLeft","bottomRight","center","PlaneWorker","radius","angle","PI","cos","sin","map","isFictive","outerLoop","plane","findTriangles","triangles","alert","areCrossing","p1","p2","p3","p4","v1","vectorMult","v2","v3","v4","l1","sqr","l2","ax","ay","bx","by","Plane","isOuter","SvgGraphDrawer","initializeField","drawNodes","drawEdges"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3884256a736cdec9bb6d","function AdjacencyList() {\r\n\tthis.nodes = {};\r\n\t\r\n\tthis.addNode = function (nodeName) {\r\n\t\tif(this.nodes[nodeName]==undefined)\r\n\t\t\t\tthis.nodes[nodeName] = {\r\n\t\t\t\t\ttype: \"normal\",\r\n\t\t\t\t\tneighbors: {}\r\n\t\t\t\t\t};\r\n\t}\r\n\t\r\n\tthis.addEdge = function (node1Name, node2Name) {\r\n\t\tthis.nodes[node1Name].neighbors[node2Name] = true;\r\n\t\tthis.nodes[node2Name].neighbors[node1Name] = true;\r\n\t}\r\n\t\r\n\tthis.initializeFromText = function (nodesText) {\r\n\t\tthis.nodes = {};\r\n\t\tfor(var i = 0; i < nodesText.length; i++) {\r\n\t\t\tif (nodesText[i]!==\"\") {\r\n\t\t\t\tvar currNode = nodesText[i].split(\"->\");\r\n\t\t\t\tthis.addNode(currNode[0]);\r\n\t\t\t\t\r\n\t\t\t\tif(currNode[1])\t{\r\n\t\t\t\t\tthis.addNode(currNode[1]);\r\n\t\t\t\t\tthis.addEdge(currNode[0], currNode[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tthis.removeNode = function (nodeName) {\r\n\t\tdelete this.nodes[nodeName];\r\n\t\tfor (var node in this.nodes) {\r\n\t\t\tdelete this.nodes[node].neighbors[nodeName];\r\n\t\t}\r\n\t}\r\n\t\r\n\tthis.removeEdge = function (node1Name, node2Name) {\r\n\t\tdelete this.nodes[node1Name].neighbors[node2Name];\r\n\t\tdelete this.nodes[node2Name].neighbors[node1Name];\r\n\t}\r\n\t\r\n\tthis.removeEdges = function (edges) {\r\n\t\tfor (var i = 0; i < edges.length; i++) {\r\n\t\t\tthis.removeEdge(edges[i].begin, edges[i].end);\r\n\t\t}\r\n\t}\r\n\t\r\n\tthis.getConnectedComponents = function () {\r\n\t\tvar components = [];\r\n\t\tvar checkedNodes = [];\r\n\t\t\r\n\t\tfor (var key in this.nodes) {\r\n\t\t\tif(checkedNodes[key]) continue;\r\n\t\t\t\r\n\t\t\tcheckedNodes[key] = true;\r\n\t\t\t\r\n\t\t\tvar component = new AdjacencyList();\r\n\t\t\t\r\n\t\t\tcomponent.addNode(key);\r\n\t\t\taddNeighbors.call(this, key, component, checkedNodes);\r\n\t\t\tcomponents.push(component);\r\n\t\t}\r\n\t\t\r\n\t\tfunction addNeighbors(nodeName, component, checkedNodes) {\r\n\t\t\tfor (var key in this.nodes[nodeName].neighbors) {\r\n\t\t\t\tcomponent.addNode(key);\r\n\t\t\t\tcomponent.addEdge(nodeName, key);\r\n\t\t\t\t\r\n\t\t\t\tif (!checkedNodes[key]) {\r\n\t\t\t\t\tcheckedNodes[key] = true;\r\n\t\t\t\t\taddNeighbors.call(this, key, component, checkedNodes);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn components;\r\n\t}\r\n\t\r\n\tthis.print = function (textGroup) {\r\n\t\twhile (textGroup.lastChild) {\r\n\t\t\ttextGroup.removeChild(textGroup.lastChild);\r\n\t\t}\r\n\r\n\t\tvar count = 0;\r\n\t\r\n\t\tvar tspan = createTSpan(\"Списки смежности:\", 50, (count + 1) * 50);\r\n\t\ttextGroup.appendChild(tspan);\r\n\t\tcount++;\r\n\t\t\r\n\t\tfor (var key1 in this.nodes) {\r\n\t\t\tvar currText = key1 + \": \";\r\n\t\t\tfor (var key2 in this.nodes[key1].neighbors) {\r\n\t\t\t\tcurrText+=key2+\", \";\r\n\t\t\t}\r\n\t\t\ttspan = createTSpan(currText, 50, (count + 1) * 50);\r\n\t\t\ttextGroup.appendChild(tspan);\r\n\t\t\t\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\t\r\n\t\tfunction createTSpan(text, x, y) {\r\n\t\t\tvar tspan = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n\t\t\ttspan.setAttribute(\"x\", x);\r\n\t\t\ttspan.setAttribute(\"y\", y);\r\n\t\t\ttspan.textContent = text;\r\n\t\t\treturn tspan;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default AdjacencyList;\n\n\n// WEBPACK FOOTER //\n// ./src/adjacency-list/adjacency-list.js","function createTSpan(text, x, y) {\r\n\tvar tspan = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\r\n\ttspan.setAttribute(\"x\", x);\r\n\ttspan.setAttribute(\"y\", y);\r\n\ttspan.textContent = text;\r\n\treturn tspan;\r\n}\r\n\r\n//print adjacency list and bridges\r\nfunction printNodesAndBridgesText(nodes, bridges, textGroup) {\r\n\t    while (textGroup.lastChild) {\r\n            textGroup.removeChild(textGroup.lastChild);\r\n        }\r\n\tvar count = 0;\r\n\t\r\n\tvar tspan = createTSpan(\"Списки смежности:\", 50, (count + 1) * 50);\r\n\ttextGroup.appendChild(tspan);\r\n\tcount++;\r\n\t\r\n\tfor (var key1 in nodes) {\r\n\t\tvar currText = key1 + \": \";\r\n\t\tfor (var key2 in nodes[key1].neighbors) {\r\n\t\t\tcurrText+=key2+\", \";\r\n\t\t}\r\n\t\ttspan = createTSpan(currText, 50, (count + 1) * 50);\r\n\t\ttextGroup.appendChild(tspan);\r\n\t\t\r\n\t\tcount++;\r\n\t}\t\r\n\t\r\n\ttspan = createTSpan(\"Мосты:\", 50, (count + 1) * 50);\r\n\ttextGroup.appendChild(tspan);\r\n\tcount++;\r\n\t\r\n\tfor (var i = 0; i < bridges.length; i++, count++) {\t\t\r\n\t\ttspan = createTSpan(bridges[i].begin + \" -> \" + bridges[i].end + \"; \", 50, (count + 1) * 50);\r\n\t\ttextGroup.appendChild(tspan);\t\t\r\n\t}\r\n}\r\n\r\nfunction calculateDepthSearchAndFindBridges(nodes) {\r\n\tvar number = 1;\r\n\t\r\n\tvar num = {};\r\n\tvar top = {};\r\n\t//edges we walk in depth search\r\n\tvar bypassEdges = [];\r\n\t\r\n\tfor (var key in nodes) {\r\n\t\tnum[key] = 0;\r\n\t}\r\n\t\r\n\tfor (var key in nodes) {\r\n\t\tif (num[key] != 0) continue;\r\n\t\t\r\n\t\tsearchNode(undefined, key);\r\n\t}\r\n\t\r\n\tfunction searchNode(parentNode, currNode) {\r\n\t\tnum[currNode] = number; \r\n\t\ttop[currNode] = number;\r\n\t\tnumber++;\r\n\t\t\r\n\t\tfor (var key in nodes[currNode].neighbors) {\r\n\t\t\tif(num[key] == 0) {\r\n\t\t\t\tbypassEdges.push({\r\n\t\t\t\t\tbegin: currNode,\r\n\t\t\t\t\tend: key\r\n\t\t\t\t});\r\n\t\t\t\tsearchNode(currNode, key);\r\n\t\t\t\ttop[currNode] = Math.min(top[currNode], top[key]);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(parentNode != key)\r\n\t\t\t\t\ttop[currNode] = Math.min(top[currNode], num[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn bypassEdges.filter((edge) => {\r\n\t\treturn top[edge.end] == num[edge.end];\r\n\t});\r\n}\r\n\r\n//nodes text: [\"a->b\", \"b->c\", \"\"]\r\nfunction findBridges(nodes, textGroup) {\r\n\treturn calculateDepthSearchAndFindBridges(nodes);\r\n}\r\n\r\nexport {findBridges};\n\n\n// WEBPACK FOOTER //\n// ./src/find-bridges/find-bridges.js","import AdjacencyList from 'adjacency-list';\r\nimport {findBridges} from 'find-bridges';\r\nimport PlaneWorker from 'plane-worker';\r\nimport SvgGraphDrawer from 'svg-graph-drawer';\r\n\r\nfunction HammaAlgorithmWorker (svgField) {\r\n\tthis.svgField = svgField;\r\n\tthis.makePlanarity = function (graph) {\r\n\t\tvar bridges = findBridges(graph.nodes);\r\n\t\tgraph.removeEdges(bridges);\r\n\t\tvar components = graph.getConnectedComponents();\r\n\t\tfor (var i = 0; i < components.length; i++) {\r\n\t\t\tthis.planarizeGraph(components[i]);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//graph without bridges\r\n\tthis.planarizeGraph = function (graph) {\r\n\t\tvar loop = this.findLoop(graph);\r\n\t\tif (loop.path.length == 0) return; //дать координаты или что-то еще, если одна вершина\r\n\t\tvar planeWorker = new PlaneWorker();\r\n\t\tplaneWorker.initializeFromLoop(loop.path);\r\n\t\tvar svgGraphDrawer = new SvgGraphDrawer();\r\n\t\tsvgGraphDrawer.draw(planeWorker.nodes, planeWorker.edges, svgField)\r\n\t\tgraph.removeEdges(loop.edges); //убрать также вершины ни с чем не соединенные //мб не надо\r\n\t\t\r\n\t\tvar segments = this.findSegments(graph, loop.path);\r\n\t\t//while segments.length != 0\r\n\t\tvar chain;\r\n\t\twhile (segments.length != 0) {\r\n\t\t\tthis.calculateGammaFromSegments(segments, planeWorker.planes); //в поиске пути в многоугольнике - добавить реализацию использования фиктивных ребер (внешняя грань)\r\n\t\t\tsegments.sort((segment1, segment2) => {\r\n\t\t\t\treturn segment1.gammaCount > segment2.gammaCount ? 1 : -1;\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t//удалить плохие ребра у сегмента если gammaCount = 0\r\n\t\t\t//если у сегмента одна контактная вершина - сделать доп. проверку, или метод поиска цепи //добавить список уже уложенных вершин\r\n\t\t\tchain = this.findChain(segments[0], segments[0].contactNodes[0], segments[0].contactNodes[1]);\r\n\t\t\t//сделать приоритет грани, чтобы outer грань выбиралась последней\r\n\t\t\t//удалить цепь, собрать новые сегменты\r\n\t\t\t//уложить цепь, получить новые грани (добавить проверку, если только одна контактная вершина)\r\n\t\t\t//посчитать заного gamma\r\n\t\t\tplaneWorker.addChain(chain, segments[0].planesIn[0]);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t//awful algorithm, works in n^n time\r\n\tthis.findLoop = function (graph) {\r\n\t\tvar maxLoopLength = 0;\r\n\t\tvar pathResult = [];\r\n\t\t\r\n\t\tfor (var key in graph.nodes) {\r\n\t\t\tvar path = [];\r\n\t\t\tpath.push(key);\r\n\t\t\t\r\n\t\t\tsearchLoopInNeighbors(path.slice(), key, graph);\r\n\t\t}\r\n\t\t\r\n\t\treturn transformPathResultToLoopAndEdges(pathResult);\r\n\t\t\r\n\t\tfunction searchLoopInNeighbors(path, nodeName, graph) {\r\n\t\t\tfor (var key in graph.nodes[nodeName].neighbors) {\r\n\t\t\t\t//if node already was in our path we compare loop length with max loop length\r\n\t\t\t\tvar loopLength = getLoopLength(path, key);\r\n\t\t\t\tif (loopLength > maxLoopLength) {\r\n\t\t\t\t\tmaxLoopLength = loopLength;\r\n\t\t\t\t\tpathResult = path.slice();\r\n\t\t\t\t}\r\n\t\t\t\telse if (loopLength === 0) {\r\n\t\t\t\t\tvar newPath = path.slice();\r\n\t\t\t\t\tnewPath.push(key);\r\n\t\t\t\t\tsearchLoopInNeighbors(newPath, key, graph);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfunction getLoopLength(path, nodeName) {\r\n\t\t\t\tfor (var i = 0; i < path.length; i++) {\r\n\t\t\t\t\tif (path[i] === nodeName) return path.length - i;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfunction transformPathResultToLoopAndEdges(pathResult) {\r\n\t\t\tvar loop = [];\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < pathResult.length - 1; i++) {\r\n\t\t\t\tloop.push({\r\n\t\t\t\t\tbegin: pathResult[i],\r\n\t\t\t\t\tend: pathResult[i + 1]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tloop.push({\r\n\t\t\t\tbegin: pathResult[0],\r\n\t\t\t\tend: pathResult[pathResult.length - 1]\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\tpath: pathResult,\r\n\t\t\t\tedges: loop\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t//find all segments that \"touches\" an added nodes\r\n\tthis.findSegments = function (graph, addedNodes) {\r\n\t\tvar visitedNodes = {};\r\n\t\tvar segments = [];\r\n\t\t\r\n\t\tfor (var key in graph.nodes) {\r\n\t\t\tif (visitedNodes[key]) continue;\r\n\t\t\tvisitedNodes[key] = true;\r\n\t\t\t\r\n\t\t\tif (includes(addedNodes, key)) {\r\n\t\t\t\tcheckContactNode(key, graph, segments, addedNodes);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tvar segment = {\r\n\t\t\t\tcontactNodes: [],\r\n\t\t\t\tgraph: new AdjacencyList()\r\n\t\t\t};\r\n\t\t\tsegment.graph.addNode(key);\r\n\t\t\tsearchSegment(segment, key, addedNodes, graph);\r\n\t\t\tsegments.push(segment);\r\n\t\t}\r\n\t\t\r\n\t\treturn segments;\r\n\t\t\r\n\t\tfunction includes (array, key) {\r\n\t\t\tfor (var i = 0; i < array.length; i++) {\r\n\t\t\t\tif (array[i] === key) return true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tfunction checkContactNode (node, graph, segments, addedNodes) {\r\n\t\t\tfor (var neighbor in graph.nodes[node].neighbors) {\r\n\t\t\t\t\tif (includes(addedNodes, neighbor) && !visitedNodes[neighbor]) {\r\n\t\t\t\t\t\tvar segment = {\r\n\t\t\t\t\t\t\tcontactNodes: [],\r\n\t\t\t\t\t\t\tgraph:  new AdjacencyList()\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tsegment.graph.addNode(node);\r\n\t\t\t\t\t\tsegment.contactNodes.push(node);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tsegment.graph.addNode(neighbor);\r\n\t\t\t\t\t\tsegment.contactNodes.push(neighbor);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tsegment.graph.addEdge(node, neighbor);\r\n\t\t\t\t\t\tsegments.push(segment);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//node is not in the addedNodes\r\n\t\tfunction searchSegment(segment, node, addedNodes, graph) {\r\n\t\t\tvisitedNodes[node] = true;\r\n\t\t\tfor (var neighbor in graph.nodes[node].neighbors) {\r\n\t\t\t\t\r\n\t\t\t\tsegment.graph.addNode(neighbor);\r\n\t\t\t\tsegment.graph.addEdge(node, neighbor);\r\n\t\t\t\t\r\n\t\t\t\tif (includes(addedNodes, neighbor)) {\r\n\t\t\t\t\tsegment.contactNodes.push(neighbor);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (!visitedNodes[neighbor]) {\r\n\t\t\t\t\tsearchSegment(segment, neighbor, addedNodes, graph);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tthis.calculateGammaFromSegments = function (segments, planes) {\r\n\t\tfor (var i = 0; i < segments.length; i++) {\r\n\t\t\tsegments[i].planesIn = [];\r\n\t\t\tvar gammaCount = 0;\r\n\t\t\tfor (var j = 0; j < planes.length; j++) {\r\n\t\t\t\tif (isSegmentIn(segments[i].contactNodes, planes[i].loop)) {\r\n\t\t\t\t\tgammaCount++;\r\n\t\t\t\t\tsegments[i].planesIn.push(planes[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsegments[i].gammaCount = gammaCount;\r\n\t\t}\r\n\t\t\r\n\t\tfunction isSegmentIn(contactNodes, loop) {\r\n\t\t\tfor (var i = 0; i < contactNodes.length; i++) {\r\n\t\t\t\tvar isNodeInLoop = false;\r\n\t\t\t\tfor (var j = 0; j < loop.length; j++) {\r\n\t\t\t\t\tif (contactNodes[i] === loop[j].name) {\r\n\t\t\t\t\t\tisNodeInLoop = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (!isNodeInLoop) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\t//Find path from start to end in segment\r\n\tthis.findChain = function (segment, start, end) {\r\n\t\tvar path = [];\r\n\t\tpath.push(start);\r\n\t\t\r\n\t\tvar visitedNodes = {};\r\n\t\tif (end === undefined) {\r\n\t\t\treturn deepSearch(segment, undefined, start, start, path);\r\n\t\t}\r\n\t\treturn deepSearch(segment, undefined, start, end, path);\r\n\t\t\r\n\t\tfunction deepSearch(segment, prev, current, end, path) {\r\n\t\t\tfor (var key in segment.graph.nodes[current].neighbors) {\r\n\t\t\t\tif (key === prev) continue;\r\n\t\t\t\tif (visitedNodes[key]) continue;\r\n\t\t\t\tif (key === end) {\r\n\t\t\t\t\tpath.push(end);\r\n\t\t\t\t\treturn path;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvisitedNodes[key] = true;\r\n\t\t\t\tvar newPath = path.slice();\r\n\t\t\t\tnewPath.push(key);\r\n\t\t\t\tvar res = deepSearch(segment, current, key, end, newPath);\r\n\t\t\t\tif (res != []) {\r\n\t\t\t\t\treturn res;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default HammaAlgorithmWorker;\n\n\n// WEBPACK FOOTER //\n// ./src/hamma-algorithm/hamma-algorithm.js","var nodes;\r\nvar edges;\r\n\r\n//������������ ����� �������\r\nvar l = 200;\r\n//����������� ��������� �������\r\nvar k1 = 2;\r\n//����������� ���� ������������\r\nvar k2 = 200000;\r\n\r\nvar delta = 0.1;\r\n\r\nfunction clear(nodesGroup, edgesGroup){\r\n\tnodesGroup.innerHTML=\"\";\r\n\tedgesGroup.innerHTML=\"\";\r\n}\r\nfunction getNodesAndEdges(nodesText){\r\n\tnodes={};\r\n\tedges={};\r\n\tfor(var i = 0; i< nodesText.length; i++)\r\n\t{\r\n\t\tif ( nodesText[i]!=\"\")\r\n\t\t{\r\n\t\t\tvar currNode = nodesText[i].split(\"->\");\r\n\t\t\tnodes[currNode[0]] = {name: currNode[0]};\r\n\t\t\tif(currNode[1])\r\n\t\t\t{\t\t\r\n\t\t\t\tnodes[currNode[1]] = {name: currNode[1]};\r\n\t\t\t\tif(!edges[currNode[0]])\r\n\t\t\t\t\tedges[currNode[0]]={};\r\n\t\t\t\tedges[currNode[0]][currNode[1]]=true;\r\n\t\t\t\t\r\n\t\t\t\t//����� ���� �������� � ������������������ �������\r\n\t\t\t\tif(!edges[currNode[1]])\r\n\t\t\t\t\tedges[currNode[1]]={};\r\n\t\t\t\tedges[currNode[1]][currNode[0]]=true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\nfunction randomizeNodeCoordinates(height, width){\r\n\tfor(var key in nodes){\r\n\t\tnodes[key].x =Math.floor(Math.random() * (width - 0 + 1)) + 0;\r\n\t\tnodes[key].y =Math.floor(Math.random() * (height - 0 + 1)) + 0;\r\n\t}\r\n}\r\nfunction drawGraph(nodesGroup, edgesGroup){\r\n\tfor(var key in  nodes){\r\n\t\tvar circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\r\n\t\tcircle.setAttribute('cx', nodes[key].x);\r\n\t\tcircle.setAttribute('cy', nodes[key].y);\r\n\t\tcircle.setAttribute('r', 15);\r\n\t\tcircle.setAttribute('stroke', \"black\");\r\n\t\tcircle.setAttribute('stroke-width', 2);\r\n\t\tcircle.setAttribute('fill', \"white\");\t\t\r\n\t\tnodesGroup.appendChild(circle);\r\n\t\t\r\n\t\tvar text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\r\n\t\ttext.setAttribute('x', nodes[key].x-2);\r\n\t\ttext.setAttribute('y', nodes[key].y+2);\r\n\t\ttext.setAttribute('fill', \"black\");\r\n\t\ttext.innerHTML= key;\r\n\t\tnodesGroup.appendChild(text);\r\n\t}\r\n\t\r\n\tfor(var key1 in edges){\t\t\r\n\t\tfor(var key2 in edges[key1]){\r\n\t\t\tvar line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\r\n\t\t\tline.setAttribute('x1', nodes[key1].x);\r\n\t\t\tline.setAttribute('y1', nodes[key1].y);\r\n\t\t\tline.setAttribute('x2', nodes[key2].x);\r\n\t\t\tline.setAttribute('y2', nodes[key2].y);\r\n\t\t\tline.setAttribute('stroke', \"black\");\r\n\t\t\tline.setAttribute('stroke-width', 2);\r\n\t\t\tedgesGroup.appendChild(line);\r\n\t\t}\r\n\t}\r\n}\r\nfunction distance(node1, node2){\r\n\tvar x = nodes[node1].x-nodes[node2].x;\r\n\tvar y = nodes[node1].y-nodes[node2].y;\r\n\treturn Math.sqrt(x*x + y*y);\r\n}\r\nfunction calculatePowerXForEachNode(){\r\n\tfor(var p in nodes){\r\n\t\tvar f=0;\r\n\t\tfor(var q in edges[p]){\r\n\t\t\tif (edges[p][q]==undefined)continue;\r\n\t\t\tvar d = distance(p,q);\r\n\t\t\tif (d == 0) continue;\r\n\t\t\tf+=k1 * (d - l) * (nodes[q].x - nodes[p].x) / d;\r\n\t\t}\r\n\t\tvar g=0;\r\n\t\tfor(var q in nodes){\r\n\t\t\t//if(edges[p][q]!=undefined||q==p)continue;\r\n\t\t\tif(q==p)continue;\r\n\t\t\tvar d = distance(p,q);\r\n\t\t\tif (d == 0) continue;\r\n\t\t\tg+=k2 * (nodes[p].x - nodes[q].x) / (d * d)  / d;\r\n\t\t}\r\n\t\tnodes[p].FX=f+g;\r\n\t}\r\n}\r\nfunction calculatePowerYForEachNode(){\r\n\tfor(var p in nodes){\r\n\t\tvar f=0;\r\n\t\tfor(var q in edges[p]){\r\n\t\t\tif (edges[p][q]==undefined)continue;\r\n\t\t\tvar d = distance(p,q);\r\n\t\t\tif (d == 0) continue;\r\n\t\t\tf+=k1 * (d - l) * (nodes[q].y - nodes[p].y) / d;\r\n\t\t}\r\n\t\tvar g=0;\r\n\t\tfor(var q in nodes){\r\n\t\t\t//if(edges[p][q]!=undefined||q==p)continue;\r\n\t\t\tif(q==p)continue;\r\n\t\t\tvar d = distance(p,q);\r\n\t\t\tif (d == 0) continue;\r\n\t\t\tg+=k2 * (nodes[p].y - nodes[q].y) / (d * d)   / d;\r\n\t\t}\r\n\t\tnodes[p].FY= f + g;\r\n\t}\r\n}\r\nfunction addExtention(){\r\n\tfor(var node in nodes){\r\n\t\tnodes[node].x+=delta*nodes[node].FX;\r\n\t\tnodes[node].y+=delta*nodes[node].FY;\r\n\t\t//nodes[node].x=nodes[node].FX;\r\n\t\t//nodes[node].y=nodes[node].FY;\r\n\t}\r\n}\r\nfunction firstStep(nodesText, timerId, height, width, nodesGroup, edgesGroup){\r\n\tif(timerId)\r\n\t\tclearInterval(timerId);\r\n\tclear(nodesGroup, edgesGroup);\r\n\tgetNodesAndEdges(nodesText);\r\n\trandomizeNodeCoordinates(height, width);\r\n\tdrawGraph(nodesGroup, edgesGroup);\r\n}\r\nfunction makeOneStabilization(nodesGroup, edgesGroup){\r\n\tcalculatePowerXForEachNode();\r\n\tcalculatePowerYForEachNode();\r\n\taddExtention();\r\n\tclear(nodesGroup, edgesGroup);\r\n\tdrawGraph(nodesGroup, edgesGroup);\r\n}\r\nfunction startStabilization(timerId, nodesGroup, edgesGroup){\r\n\tif(timerId)\r\n\t\tclearInterval(timerId);\r\n\ttimerId = setInterval(makeOneStabilization, 150, nodesGroup, edgesGroup);\r\n\treturn timerId;\r\n}\r\nexport {firstStep, makeOneStabilization, startStabilization};\n\n\n// WEBPACK FOOTER //\n// ./src/spring-embedder/spring-embedder.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main.scss\n// module id = 4\n// module chunks = 0","import {firstStep, makeOneStabilization, startStabilization} from 'spring-embedder';\r\n\r\nimport AdjacencyList from 'adjacency-list';\r\nimport {findBridges} from 'find-bridges';\r\nimport HammaAlgorithmWorker from 'hamma-algorithm';\r\n\r\nimport './main.scss';\r\n\r\nvar height = 800;\r\nvar width = 1500;\r\n\r\nvar timerId;\r\n\r\nvar drawField = document.getElementById(\"drawField\");\r\ndrawField.setAttribute('height', height + \"px\");\r\ndrawField.setAttribute('width', width + \"px\");\r\n\r\ndocument.getElementById(\"nodes-input\").value = `1->2;1->6;\r\n2->3;2->5;2->9;2->10;\r\n3->4;3->5;\r\n4->5;\r\n6->7;6->8;\r\n7->8;\r\n9->10;\r\n9->11;\r\n10->11;`;\r\n\r\n/*document.getElementById(\"nodes-input\").value = `a->b; a->c; a->d; a->e; a->f; a->k;\r\na->l;\r\nb->c; b->d; b->e; b->f; b->k; b->l;\r\nc->d; c->e; c->f; c->k; c->l;\r\nd->e; d->f; d->k; d->l;\r\ne->f; e->k; e->l;\r\nf->k;f->l;\r\nk->l;`;*/\r\n/*1->2;1->3;1->4;1->4;1->5;\r\n2->3;2->4;2->5;\r\n3->4;3->5;\r\n4->5;*/\r\nvar nodesGroup = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\r\nnodesGroup.setAttribute('id', 'nodes');\r\n\r\nvar edgesGroup = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\r\nedgesGroup.setAttribute('id', 'edges');\r\n\r\nvar textGroup = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\r\n\r\ndrawField.appendChild(edgesGroup);\r\ndrawField.appendChild(nodesGroup);\r\ndrawField.appendChild(textGroup);\r\n\r\nvar toDraw = document.getElementById(\"to-draw\");\r\ntoDraw.addEventListener('click', function() {\r\n\tvar nodesText = document.getElementById(\"nodes-input\").value.replace(/ |\\n/g,'').split(';');\r\n\tfirstStep(nodesText, timerId, height, width, nodesGroup, edgesGroup);\r\n});\r\n\r\nvar calculateOffset = document.getElementById(\"calculate-offset\");\r\ncalculateOffset.addEventListener('click', function() {\r\n\tmakeOneStabilization(nodesGroup, edgesGroup);\r\n});\r\n\r\nvar startStab = document.getElementById(\"start-stabilization\");\r\nstartStab.addEventListener('click', function() {\r\n\ttimerId = startStabilization(timerId, nodesGroup, edgesGroup);\r\n});\r\n\r\nvar planarityFirstStep = document.getElementById(\"find-bridges\");\r\n\r\nplanarityFirstStep.addEventListener('click', function() {\r\n\tvar nodesText = document.getElementById(\"nodes-input\").value.replace(/ |\\n/g,'').split(';');\r\n\t\r\n\tvar initGraph = new AdjacencyList();\r\n\tinitGraph.initializeFromText(nodesText);\r\n\t\r\n\tvar hammaAlgorithmWorker = new HammaAlgorithmWorker(drawField);\r\n\thammaAlgorithmWorker.makePlanarity(initGraph);\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Plane from 'plane';\r\n\r\nconst canvasSize = {\r\n\twidth: 800,\r\n\theight: 800\r\n}\r\n\r\nconst nodeRadius = 15;\r\n\r\nconst canvasCorners = {\r\n\ttopLeft: {\r\n\t\tx: nodeRadius,\r\n\t\ty: nodeRadius,\r\n\t\ttype: \"fictive\"\r\n\t},\r\n\ttopRight: {\r\n\t\tx: canvasSize.width - nodeRadius,\r\n\t\ty: nodeRadius,\r\n\t\ttype: \"fictive\"\r\n\t},\r\n\tbottomLeft: {\r\n\t\tx: nodeRadius,\r\n\t\ty: canvasSize.height - nodeRadius,\r\n\t\ttype: \"fictive\"\r\n\t},\r\n\tbottomRight: {\r\n\t\tx: canvasSize.width - nodeRadius,\r\n\t\ty: canvasSize.height - nodeRadius,\r\n\t\ttype: \"fictive\"\r\n\t}\r\n};\r\n\r\nconst center = {\r\n\tx: 400,\r\n\ty: 400\r\n};\r\n\r\nfunction PlaneWorker () {//добавить хранилище контактных вершин\r\n\tthis.initializeFromLoop = function (loop) {\r\n\t\tthis.nodes = {};\r\n\t\tthis.edges = [];\r\n\t\t\r\n\t\tvar radius = loop.length * 25;\r\n\t\tradius = Math.min(radius, 300);\r\n\r\n\t\tvar angle = (2 * Math.PI) / loop.length;\r\n\t\t\r\n\t\tfor (var i = 0; i < loop.length; i++) {\r\n\t\t\tthis.nodes[loop[i]] = {\r\n\t\t\t\tx: center.x + radius * Math.cos(i * angle),\r\n\t\t\t\ty: center.y + radius * Math.sin(i * angle),\r\n\t\t\t\ttype: \"normal\"\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tfor (var i = 0; i < loop.length - 1; i++) {\r\n\t\t\tthis.edges.push({\r\n\t\t\t\tbegin: loop[i],\r\n\t\t\t\tend: loop[i + 1]\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tthis.edges.push({\r\n\t\t\tbegin: loop[0],\r\n\t\t\tend: loop[loop.length - 1]\r\n\t\t});\r\n\t\t\r\n\t\t//понять, надо ли добавить фиктивные ребра\r\n\t\t\r\n\t\tthis.nodes[\"topLeft\"] = canvasCorners.topLeft;\r\n\t\tthis.nodes[\"topRight\"] = canvasCorners.topRight;\r\n\t\tthis.nodes[\"bottomLeft\"] = canvasCorners.bottomLeft;\r\n\t\tthis.nodes[\"bottomRight\"] = canvasCorners.bottomRight;\r\n\t\tthis.nodes[\"touchPoint\"] = {\r\n\t\t\tx: canvasSize.width - nodeRadius,\r\n\t\t\ty: this.nodes[loop[0]].y,\r\n\t\t\ttype: \"fictive\"\r\n\t\t}\r\n\t\t\r\n\t\tthis.planes = [];\r\n\t\tthis.planes.push(new Plane(loop.map(node => ({\r\n\t\t\tname: node,\r\n\t\t\tisFictive: false\r\n\t\t})), false));\r\n\t\tvar outerLoop = loop.map(node => ({\r\n\t\t\tname: node,\r\n\t\t\tisFictive: false\r\n\t\t}));\r\n\t\touterLoop.push({\r\n\t\t\tname: loop[0],\r\n\t\t\tisFictive: false\r\n\t\t});\r\n\t\touterLoop.push({\r\n\t\t\tname: \"touchPoint\",\r\n\t\t\tisFictive: true\r\n\t\t});\r\n\t\touterLoop.push({\r\n\t\t\tname: \"topRight\",\r\n\t\t\tisFictive: true\r\n\t\t});\r\n\t\touterLoop.push({\r\n\t\t\tname: \"topLeft\",\r\n\t\t\tisFictive: true\r\n\t\t});\r\n\t\touterLoop.push({\r\n\t\t\tname: \"bottomLeft\",\r\n\t\t\tisFictive: true\r\n\t\t});\r\n\t\touterLoop.push({\r\n\t\t\tname: \"bottomRight\",\r\n\t\t\tisFictive: true\r\n\t\t});\r\n\t\touterLoop.push({\r\n\t\t\tname: \"touchPoint\",\r\n\t\t\tisFictive: true\r\n\t\t});\r\n\t\tthis.planes.push(new Plane(outerLoop, true));  //добавь тип грани(внутр внешн)\r\n\t}\r\n\t\r\n\tthis.addChain = function (chain, plane) {\r\n\t\tfindTriangles(plane);\r\n\t\t\r\n\t\tfunction findTriangles (plane) {\r\n\t\t\tvar triangles = [];\r\n\t\t\t\r\n\t\t\talert(areCrossing({\r\n\t\t\t\tx: 1,\r\n\t\t\t\ty: 3\r\n\t\t\t}, {\r\n\t\t\t\tx: 4,\r\n\t\t\t\ty: 3\r\n\t\t\t}, {\r\n\t\t\t\tx: 4,\r\n\t\t\t\ty: 3\r\n\t\t\t}, {\r\n\t\t\t\tx: 5,\r\n\t\t\t\ty: 5\r\n\t\t\t}));\r\n\t\t\talert(areCrossing({\r\n\t\t\t\tx: 1,\r\n\t\t\t\ty: 1\r\n\t\t\t}, {\r\n\t\t\t\tx: 3,\r\n\t\t\t\ty: 3\r\n\t\t\t}, {\r\n\t\t\t\tx: 1,\r\n\t\t\t\ty: 1\r\n\t\t\t}, {\r\n\t\t\t\tx: 5,\r\n\t\t\t\ty: 5\r\n\t\t\t}));\r\n\t\t\t\r\n\t\t\talert(areCrossing({\r\n\t\t\t\tx: 1,\r\n\t\t\t\ty: 1\r\n\t\t\t}, {\r\n\t\t\t\tx: 3,\r\n\t\t\t\ty: 3\r\n\t\t\t}, {\r\n\t\t\t\tx: 4,\r\n\t\t\t\ty: 4\r\n\t\t\t}, {\r\n\t\t\t\tx: 6,\r\n\t\t\t\ty: 6\r\n\t\t\t}));\r\n\t\t\t\r\n\t\t\tfunction areCrossing (p1, p2, p3, p4) {\r\n\t\t\t\tvar v1 = vectorMult(p4.x - p3.x, p4.y - p3.y, p1.x - p3.x, p1.y - p3.y);\r\n\t\t\t\tvar v2 = vectorMult(p4.x - p3.x, p4.y - p3.y, p2.x - p3.x, p2.y - p3.y);\r\n\t\t\t\tvar v3 = vectorMult(p2.x - p1.x, p2.y - p1.y, p3.x - p1.x, p3.y - p1.y);\r\n\t\t\t\tvar v4 = vectorMult(p2.x - p1.x, p2.y - p1.y, p4.x - p1.x, p4.y - p1.y);\r\n\t\t\t\tif (v1 == 0 && v2 == 0 && v3 == 0 && v4 == 0) {\r\n\t\t\t\t\tvar l1 = Math.sqrt(sqr(p1.x - p2.x) + sqr(p1.y - p2.y));\r\n\t\t\t\t\tvar l2 = Math.sqrt(sqr(p3.x - p4.x) + sqr(p3.y - p4.y));\r\n\t\t\t\t\treturn sqr((p1.x + p2.x) - (p3.x + p4.x)) + sqr((p1.y + p2.y) - (p3.y + p4.y)) <= sqr(l1 + l2);\r\n\t\t\t\t}\r\n\t\t\t\tif ((v1 * v2) < 0 && (v3 * v4) < 0 ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t\t\r\n\t\t\t\tfunction vectorMult (ax, ay, bx, by) {\r\n\t\t\t\t\treturn ax * by - bx * ay;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfunction sqr (x) {\r\n\t\t\t\t\treturn x*x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default PlaneWorker;\n\n\n// WEBPACK FOOTER //\n// ./src/plane-worker/plane-worker.js","//this class works with coordinates in canvas\r\nfunction Plane (loop, isOuter) {\r\n\tthis.loop = loop;\r\n\tthis.isOuter = isOuter;\r\n\t//add chain to plane, divide it to two planes(edges)\r\n\tthis.addChain = function () {\r\n\t}\r\n}\r\n\r\nexport default Plane;\n\n\n// WEBPACK FOOTER //\n// ./src/plane/plane.js","function SvgGraphDrawer () {\r\n\tthis.draw = function (nodes, edges, svgField) {\r\n\t\tthis.svgField = svgField;\r\n\t\tthis.initializeField();\r\n\t\tthis.drawNodes(nodes);\r\n\t\tthis.drawEdges(nodes, edges);\r\n\t}\r\n\tthis.initializeField = function () {\r\n\t\tthis.svgField.innerHTML = \"\";\r\n\t\t\r\n\t\tthis.nodesGroup = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\r\n\t\tthis.nodesGroup.setAttribute('id', 'nodes');\r\n\r\n\t\tthis.edgesGroup = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\r\n\t\tthis.edgesGroup.setAttribute('id', 'edges');\t\t\r\n\t\t\r\n\t\tthis.svgField.appendChild(this.edgesGroup);\r\n\t\tthis.svgField.appendChild(this.nodesGroup);\r\n\t}\r\n\t\r\n\tthis.drawNodes = function (nodes) {\r\n\t\tfor(var key in  nodes){\r\n\t\t\tvar circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\r\n\t\t\tcircle.setAttribute('cx', nodes[key].x);\r\n\t\t\tcircle.setAttribute('cy', nodes[key].y);\r\n\t\t\tcircle.setAttribute('r', 15);\r\n\t\t\tif(nodes[key].type === \"fictive\") {\r\n\t\t\t\tcircle.setAttribute('stroke-dasharray', \"5\");\r\n\t\t\t}\r\n\t\t\tcircle.setAttribute('stroke', \"black\");\r\n\t\t\tcircle.setAttribute('stroke-width', 2);\r\n\t\t\tcircle.setAttribute('fill', \"white\");\r\n\t\t\tthis.nodesGroup.appendChild(circle);\r\n\t\t\t\r\n\t\t\tvar text = document.createElementNS('http://www.w3.org/2000/svg', 'text');\r\n\t\t\ttext.setAttribute('x', nodes[key].x-2);\r\n\t\t\ttext.setAttribute('y', nodes[key].y+2);\r\n\t\t\ttext.setAttribute('fill', \"black\");\r\n\t\t\ttext.innerHTML= key;\r\n\t\t\tthis.nodesGroup.appendChild(text);\r\n\t\t}\r\n\t}\r\n\t\r\n\tthis.drawEdges = function (nodes, edges) {\r\n\t\tfor (var i = 0; i < edges.length; i++) {\r\n\t\t\tvar line = document.createElementNS('http://www.w3.org/2000/svg', 'line');\r\n\t\t\tline.setAttribute('x1', nodes[edges[i].begin].x);\r\n\t\t\tline.setAttribute('y1', nodes[edges[i].begin].y);\r\n\t\t\tline.setAttribute('x2', nodes[edges[i].end].x);\r\n\t\t\tline.setAttribute('y2', nodes[edges[i].end].y);\r\n\t\t\tline.setAttribute('stroke', \"black\");\r\n\t\t\tline.setAttribute('stroke-width', 2);\r\n\t\t\tthis.edgesGroup.appendChild(line);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default SvgGraphDrawer;\n\n\n// WEBPACK FOOTER //\n// ./src/svg-graph-drawer/svg-graph-drawer.js"],"sourceRoot":""}